syntax = "proto3";

package meme.subscriptions;
option go_package = "github.com/materkov/meme9/api/subscriptions";

// Subscriptions service
service Subscriptions {
  rpc Subscribe(SubscribeRequest) returns (SubscribeResponse);
  rpc Unsubscribe(SubscribeRequest) returns (SubscribeResponse);
  rpc GetStatus(SubscribeRequest) returns (SubscribeResponse);
  rpc GetFollowing(GetFollowingRequest) returns (GetFollowingResponse);
  rpc IsSubscribed(IsSubscribedRequest) returns (IsSubscribedResponse);
}

message SubscribeRequest {
  string userId = 1;
}

message SubscribeResponse {
  bool subscribed = 1;
}

message GetFollowingRequest {
  string userId = 1;
}

message GetFollowingResponse {
  repeated string userIds = 1;
}

message IsSubscribedRequest {
  string subscriberId = 1;
  string targetUserId = 2;
}

message IsSubscribedResponse {
  bool subscribed = 1;
}

